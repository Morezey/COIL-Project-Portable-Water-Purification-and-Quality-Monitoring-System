(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6317],{38456:function(a,b,c){"use strict";var d=c(30137),e=c(98732),f=c(34051),g=c.n(f),h=c(85893),i=c(67294),j=c(89189),k=c.n(j),l=c(77033),m=c(78082),n=c(53374),o=function(a){var b=a.postId,c=(0,i.useState)(!1),f=c[0],j=c[1],o=(0,i.useState)(""),p=o[0],q=o[1],r=(0,i.useState)(!1),s=r[0],t=r[1],u=(0,i.useState)(""),v=u[0],w=u[1],x=(0,i.useState)(!1),y=x[0],z=x[1],A=(0,i.useState)(!1),B=(A[0],A[1]),C=(0,i.useState)(""),D=C[0],E=C[1],F=(0,i.useRef)(null),G=(0,e._)((0,l.O6)(),1),H=G[0],I=(0,i.useContext)(m.ZP).loginInformation,J=(0,i.useContext)(n.Ni).isDarkTheme;(0,i.useEffect)(function(){if(!document.querySelector('script[src*="bundle.min.js"]')){var a=document.createElement("script");a.src="https://assets.geeksforgeeks.org/v2/editor-prod/static/js/bundle.min.js",a.onload=function(){},a.onerror=function(){},document.head.appendChild(a)}var c=localStorage.getItem("userNotesSaved");if(c&&b)try{var d=JSON.parse(c)[b];d&&(q(d),E(d))}catch(e){}},[b]);var K,L=function(a){return!a||""===a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/<br\s*\/?>/gi,"").replace(/<p[^>]*><br\s*\/?><\/p>/gi,"").replace(/<p[^>]*><\/p>/gi,"").replace(/<div[^>]*><br\s*\/?><\/div>/gi,"").replace(/<div[^>]*><\/div>/gi,"").replace(/<span[^>]*><\/span>/gi,"").replace(/&nbsp;/g,"").replace(/<[^>]*>/g,"").replace(/\s+/g,"").trim()},M=function(){try{var a=document.querySelector("#pn-editor");a&&(a.style.cssText="border: none !important; outline: none !important; box-shadow: none !important;");var c=new window.GFGEditorWrapper("pn-editor",{data:void 0,plugins:["UNDO","REDO","BOLD","ITALIC","NUMBERED_LIST","BULLET_LIST","TEXTALIGNMENTDROPDOWN"],placeholderText:"Start Writing..."},{appNode:!0});c._createEditor(D||""),F.current=c,setTimeout(function(){var a=document.querySelector('#pn-editor [contenteditable="true"]');a&&"<p><br></p>"===a.innerHTML&&(a.innerHTML="")},100),setTimeout(function(){var a=document.querySelector('#pn-editor [contenteditable="true"]');if(a){var c="",d=function(){var d=a.innerHTML;if(a.textContent||a.innerText,d!==c){c=d;var e=L(d),f=!e,g=JSON.parse(localStorage.getItem("userNotes")||"{}");b&&(e?delete g[b]:g[b]=d,localStorage.setItem("userNotes",JSON.stringify(g))),z(f),f?a.removeAttribute("data-placeholder"):(w(""),("<p><br></p>"===d||"<p></p>"===d||e)&&(a.innerHTML="",a.setAttribute("data-placeholder","Start Writing...")))}};setTimeout(function(){var b=(a.textContent||a.innerText||"").trim().length>0;z(b)},100),a.addEventListener("input",d),a.addEventListener("keyup",d),a.addEventListener("keydown",d),a.addEventListener("paste",d),a.addEventListener("cut",d),a.addEventListener("delete",d)}},300)}catch(d){}},N=(K=(0,d._)(g().mark(function a(){var c,d,e,f,h;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(!(d=(c=document.querySelector('#pn-editor [contenteditable="true"]'))?c.innerHTML.trim():"")||"<p><br></p>"===d||L(d))){a.next=4;break}return a.abrupt("return");case 4:return t(!0),w("Saving..."),a.prev=6,(e=new FormData).append("post_id",b),e.append("user_personal_note",d),e.append("time",(null==I?void 0:I.time)||new Date().toLocaleTimeString()),e.append("csrf_token",null==I?void 0:I.csrf_token),a.next=14,H(e).unwrap();case 14:f=a.sent,E(d),(h=JSON.parse(localStorage.getItem("userNotesSaved")||"{}"))[b]=d,localStorage.setItem("userNotesSaved",JSON.stringify(h)),w("Saved!"),a.next=25;break;case 22:a.prev=22,a.t0=a.catch(6),w("Some problem occurred. Please try again!");case 25:return a.prev=25,t(!1),setTimeout(function(){return w("")},2e3),a.finish(25);case 29:case"end":return a.stop()}},a,null,[[6,22,25,29]])})),function(){return K.apply(this,arguments)}),O=function(){N()},P=function(){j(!1),q(""),w("")},Q=function(){j(!0),z(!1);var a=localStorage.getItem("userNotesSaved"),c="";if(a&&b)try{(c=JSON.parse(a)[b]||"")&&(q(c),E(c),L(c)||z(!0))}catch(d){}},R=function(a){a.target.closest(".floating-button")};return(0,i.useEffect)(function(){return document.addEventListener("click",R),function(){return document.removeEventListener("click",R)}},[]),(0,i.useEffect)(function(){if(f&&window.GFGEditorWrapper){var a=document.createElement("style");a.id="pn-editor-styles",a.textContent='\n                #pn-editor .editor-container,\n                #pn-editor [contenteditable="true"] {\n                    border: none !important;\n                    outline: none !important;\n                    box-shadow: none !important;\n                    text-align: left !important;\n                }\n                #pn-editor .toolbar {\n                    border-bottom: 1px solid #a4aac033 !important;\n                    background-color: var(--white-to-lightblack) !important;\n                }\n                #pn-editor .editor-container .toolbar .divider {\n                    background-color: #a4aac033!important;\n                }\n                #pn-editor .editor-container .toolbar-wrap{\n                    background-color: var(--white-to-lightblack) !important;\n                }\n                #pn-editor .editor-container .editor{\n                    background-color: var(--white-to-lightblack) !important;\n                }\n                #pn-editor .editor-container .editor-placeholder {\n                    top: 46px !important;\n                    color: #a4aac099 !important;\n                    position: absolute !important;\n                    margin: 0 !important;\n                    font-family: var(--font-primary)!important;\n                    font-size: 16px;\n                    letter-spacing: 0px !important;\n                }\n                #pn-editor [contenteditable="true"][data-placeholder]:empty::before {\n                    content: attr(data-placeholder) !important;\n                    color: #999 !important;\n                    font-style: italic !important;\n                    pointer-events: none !important;\n                    position: absolute !important;\n                    top: 5px !important;\n                    left: 15px !important;\n                    margin: 0 !important;\n                    padding: 0 !important;\n                }\n                #pn-editor .toolbar-item:hover {\n                    background-color: #f0f0f0 !important;\n                    color: #333 !important;\n                }\n                #pn-editor .toolbar-item:hover svg {\n                    fill: #333 !important;\n                }\n            ',document.head.appendChild(a),setTimeout(function(){M(),setTimeout(function(){document.querySelectorAll(".editor-container, #pn-editor .editor-container").forEach(function(a){a.style.border="none",a.style.outline="none"});var a=document.querySelector('#pn-editor [contenteditable="true"]');if(a){a.style.textAlign="left";var b=document.querySelector('[data-testid="toolbar-text-align-left"], .toolbar-item[title*="left"], .toolbar-item[title*="Left"]');b&&b.click(),a.focus();var c=document.createRange(),d=window.getSelection();c.selectNodeContents(a),c.collapse(!0),d.removeAllRanges(),d.addRange(c)}B(!0)},200)},100)}},[f,p]),(0,h.jsx)("div",{id:"user-personal-note",children:(0,h.jsxs)("div",{className:"".concat(k()["floating-button"]," ").concat(f?k()["popup-open"]:""),id:"premium-sticky-notes",children:[(0,h.jsx)("div",{className:"".concat(k()["button-wrapper"]," ").concat(k()["btn-raised"]),style:{marginLeft:"auto"},onClick:Q}),f&&(0,h.jsxs)("div",{className:k()["floating-button_popup"],children:[(0,h.jsx)("div",{className:k()["floating-button_popup-bg"]}),(0,h.jsx)("div",{className:k().personal_note_top,children:(0,h.jsx)("div",{className:k()["floating-button_popup-close"],onClick:function(){return j(!1)},style:{backgroundPosition:J?"-83px -597px":"-41px -600px"}})}),(0,h.jsx)("div",{className:k()["floating-button_popup-actions"],"data-show":"true","data-personal-note":"false",children:(0,h.jsxs)("div",{className:"".concat(k()["floating-button_popup-actions-s"]," ").concat(k()["floating-button_popup-feedback"]),children:[(0,h.jsxs)("div",{className:k()["floating-button_popup-feedback-head"],children:[(0,h.jsx)("span",{children:"Write a Personal Note"}),(0,h.jsx)("a",{href:"https://www.geeksforgeeks.org/notebook/",target:"_blank",alt:"View All",className:k().notebook_link,children:"View All"})]}),(0,h.jsxs)("div",{className:k()["floating-button_popup-form"],children:[(0,h.jsx)("div",{id:"pn-editor"}),(0,h.jsxs)("div",{className:k()["floating-button_popup-form-actions"],children:[(0,h.jsxs)("div",{className:k()["floating-button_buttons"],children:[(0,h.jsx)("button",{className:"".concat(k()["submit-button-enhanced"]," ").concat(k().save),onClick:O,disabled:s,style:{display:y?"block":"none"},children:s?"Saving...":"Save"}),(0,h.jsx)("button",{className:"".concat(k()["submit-button-enhanced"]," ").concat(k().cancel),onClick:P,children:"Cancel"})]}),(0,h.jsx)("div",{className:k()["floating-button__response"],children:v})]})]})]})}),(0,h.jsx)("div",{className:k()["gfg_generic--overlay"],"data-show":s?"true":"false",children:(0,h.jsx)("div",{className:"loader__animation pload"})})]})]})})};b.Z=o},48735:function(a,b,c){"use strict";c(85893),c(67294),c(41664)},89189:function(a){a.exports={"floating-button":"PersonalNote_floating-button__GJcNM","popup-open":"PersonalNote_popup-open__DJkGT","button-wrapper":"PersonalNote_button-wrapper__hHqnO","floating-button_popup":"PersonalNote_floating-button_popup__eHLld",slideUpHeight:"PersonalNote_slideUpHeight__bCu7c","btn-raised":"PersonalNote_btn-raised__3Lo3h","floating-button_popup-bg":"PersonalNote_floating-button_popup-bg__gP_Bf",personal_note_top:"PersonalNote_personal_note_top__0Mliv","floating-button_popup-close":"PersonalNote_floating-button_popup-close__CTv_a","floating-button_popup-feedback-head":"PersonalNote_floating-button_popup-feedback-head___CqdE","floating-button_popup-form":"PersonalNote_floating-button_popup-form__r8y0Y","floating-button_popup-form-actions":"PersonalNote_floating-button_popup-form-actions__GED0i","floating-button_buttons":"PersonalNote_floating-button_buttons__MyuIb","submit-button-enhanced":"PersonalNote_submit-button-enhanced__9z8v8",save:"PersonalNote_save__9ZCO_",cancel:"PersonalNote_cancel__jiJPO","gfg_generic--overlay":"PersonalNote_gfg_generic--overlay__ddoxo",notebook_link:"PersonalNote_notebook_link__Agd0Z","floating-button__response":"PersonalNote_floating-button__response__eWgMZ","pn-editor":"PersonalNote_pn-editor__3FDjt","editor-container":"PersonalNote_editor-container__YjHNy",placeholder:"PersonalNote_placeholder__DECqH","floating-button_popup-actions":"PersonalNote_floating-button_popup-actions__ZStzd","floating-button_popup-actions-s":"PersonalNote_floating-button_popup-actions-s__1vTPA","floating-button_popup-feedback":"PersonalNote_floating-button_popup-feedback__jBFF3"}}}])